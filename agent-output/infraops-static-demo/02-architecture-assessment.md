# Step 2: Architecture Assessment - infraops-static-demo

> Generated by azure-principal-architect agent | 2026-01-20

## Requirements Validation âœ…

| Category               | Status | Details                                     |
| ---------------------- | ------ | ------------------------------------------- |
| **NFRs**               | âœ…     | SLA 99.9%, TTFB <200ms, auto-scale          |
| **Compliance**         | âœ…     | HTTPS-only, managed SSL (no GDPR/HIPAA req) |
| **Budget**             | âœ…     | ~$15/month                                  |
| **Scale Requirements** | âœ…     | Serverless auto-scaling                     |

**Validation Status**: All critical requirements defined. Ready for assessment.

---

## Executive Summary

This architecture deploys a **React (Vite) single-page application** on **Azure Static Web Apps (Standard tier)** with **Application Insights** for observability. The solution leverages Azure's global CDN for edge delivery, achieving sub-200ms TTFB worldwide.

**Key Architecture Decisions:**

- **Static Web Apps Standard** provides 99.9% SLA, 10 staging environments, and custom authentication
- **Application Insights** with workspace-based Log Analytics for telemetry
- **Global CDN** included by default - no additional configuration needed
- **Managed SSL certificates** - automatic renewal, zero maintenance

### Recommended Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Azure Static Web Apps                     â”‚
â”‚                         (Standard Tier)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  React SPA      â”‚    â”‚  Staging Slots  â”‚                     â”‚
â”‚  â”‚  (Production)   â”‚    â”‚  (Preview PRs)  â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚           â”‚                      â”‚                               â”‚
â”‚           â–¼                      â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚         Global CDN (Included)          â”‚                     â”‚
â”‚  â”‚    118+ Edge Locations Worldwide       â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                  â”‚
â”‚  Features: HTTPS, Managed SSL, GitHub CI/CD, Custom Auth        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Application Insights                         â”‚
â”‚                  (Workspace-based, Log Analytics)                â”‚
â”‚                                                                  â”‚
â”‚  â€¢ Page views, errors, performance                               â”‚
â”‚  â€¢ 5 GB/month free ingestion tier                                â”‚
â”‚  â€¢ Custom events, user analytics                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GitHub Repository â”€â”€â”€â”€ GitHub Actions â”€â”€â”€â”€ Auto-Deploy to SWA
                          (CI/CD)
```

---

## WAF Pillar Assessment

### Overall Scores

| Pillar                    | Score | Confidence | Summary                                        |
| ------------------------- | ----- | ---------- | ---------------------------------------------- |
| ðŸ”’ Security               | 9/10  | High       | HTTPS-only, managed SSL, no secrets to manage  |
| ðŸ”„ Reliability            | 8/10  | High       | 99.9% SLA, global CDN, no single point failure |
| âš¡ Performance            | 9/10  | High       | Edge delivery <200ms TTFB globally             |
| ðŸ’° Cost Optimization      | 9/10  | High       | ~$9/month, well under $15 budget               |
| ðŸ”§ Operational Excellence | 9/10  | High       | Zero infrastructure, auto CI/CD                |

**Primary Pillar Optimized**: Performance (edge delivery) & Operational Excellence (serverless)  
**Trade-offs Accepted**: No server-side rendering (client-side only), limited API triggers (HTTP only for managed functions)

---

### ðŸ”’ Security Assessment (9/10)

**Strengths:**

- HTTPS enforced by default with automatic SSL certificate management
- No secrets or credentials to manage (serverless architecture)
- GitHub integration with secure deployment tokens
- Private endpoints available (Standard tier)
- Built-in authentication provider integration (Entra ID, GitHub, etc.)

**Gaps:**

- No WAF included by default (available via Azure Front Door if needed)
- DDoS protection is basic (standard tier, not advanced)

**Recommendations:**

1. Enable custom authentication if user login is required
2. Consider Azure Front Door integration for enterprise WAF requirements
3. Use environment variables for any API keys in build process

---

### ðŸ”„ Reliability Assessment (8/10)

**Strengths:**

- 99.9% SLA with Standard tier
- Global distribution across 118+ edge locations
- Automatic failover between edge nodes
- No single points of failure (fully managed PaaS)
- 10 staging environments for safe deployments

**Gaps:**

- No multi-region active-active (single deployment, globally cached)
- Rollback requires redeployment from Git

**Recommendations:**

1. Use staging slots for all production deployments (zero-downtime)
2. Implement health checks via Application Insights availability tests
3. Set up alerts for deployment failures in GitHub Actions

---

### âš¡ Performance Assessment (9/10)

**Strengths:**

- Global CDN included - content cached at 118+ edge locations
- <200ms TTFB target easily achievable for static content
- HTTP/2 and IPv6 support by default
- Optimized file compression (gzip/brotli)
- Browser caching with configurable headers

**Gaps:**

- No dynamic content optimization (static-only)
- Cold starts for managed Azure Functions if API is added later

**Recommendations:**

1. Configure cache-control headers in `staticwebapp.config.json`
2. Use Vite build optimizations (code splitting, tree shaking)
3. Implement lazy loading for non-critical JavaScript

---

### ðŸ’° Cost Assessment (9/10)

| Service              | SKU           | Monthly Cost  | Notes                       |
| -------------------- | ------------- | ------------- | --------------------------- |
| Static Web Apps      | Standard      | ~$9.00        | Flat fee, includes 100GB BW |
| Application Insights | Pay-as-you-go | ~$0.00        | First 5 GB/month free       |
| Bandwidth Overage    | If >100GB     | $0.20/GB      | Unlikely for demo           |
| **Total Estimated**  |               | **~$9/month** | âœ… Under $15 budget         |

**Cost Optimization Applied:**

- Using free Application Insights tier (5 GB/month included)
- Standard tier is cheapest production-ready option with SLA
- No additional infrastructure (CDN, DNS, SSL all included)

**Savings Opportunities:**

- Free tier available for non-production demos (no SLA)
- No reserved capacity needed for serverless

---

### ðŸ”§ Operational Excellence Assessment (9/10)

**Strengths:**

- Zero infrastructure management (fully serverless)
- Automatic CI/CD from GitHub (no pipeline configuration needed)
- Preview environments for every pull request
- Application Insights provides out-of-box monitoring
- SWA CLI available for local development and testing

**Gaps:**

- Limited customization of build process
- No native IaC deployment (Bicep deployment is optional wrapper)

**Recommendations:**

1. Use SWA CLI (`npx swa init --yes`) for local development
2. Configure Application Insights connection string as environment variable
3. Set up GitHub Actions status checks for PR reviews
4. Enable email alerts for deployment failures

---

## Resource SKU Recommendations

| Service              | Recommended SKU | Configuration        | Justification                    |
| -------------------- | --------------- | -------------------- | -------------------------------- |
| Static Web Apps      | Standard        | Single app, 10 slots | 99.9% SLA, production-ready      |
| Application Insights | Pay-as-you-go   | Workspace-based      | 5 GB free, sufficient for demo   |
| Log Analytics        | Pay-as-you-go   | 30-day retention     | Default retention, no extra cost |

---

## Architecture Decision Summary

| Decision         | Choice                | Rationale                                       |
| ---------------- | --------------------- | ----------------------------------------------- |
| Hosting Platform | Azure Static Web Apps | Purpose-built for SPAs, includes CDN/SSL        |
| Tier Selection   | Standard              | 99.9% SLA required, staging environments needed |
| Observability    | Application Insights  | Native integration, 5 GB free tier              |
| CI/CD            | GitHub Actions (auto) | Zero-config deployment from repository          |
| Region           | westeurope            | Specified in requirements, SWA supported        |
| SSL/TLS          | Managed certificates  | Auto-renewal, zero maintenance                  |

---

## Implementation Handoff

### Ready for bicep-plan

The architecture is approved for implementation with the following key parameters:

```yaml
region: westeurope
environment: prod
budget: $15/month (estimated: ~$9/month)

resources:
  - Azure Static Web App (Standard)
  - Application Insights (workspace-based)
  - Log Analytics Workspace

security:
  - HTTPS-only enforcement
  - Managed SSL certificates
  - GitHub deployment authentication

monitoring:
  - Application Insights telemetry
  - Page views, errors, performance
  - Custom events (optional)
```

---

## Approval Gate

> **ðŸ—ï¸ Architecture Assessment Complete**
>
> | Pillar      | Score |
> | ----------- | ----- |
> | Security    | 9/10  |
> | Reliability | 8/10  |
> | Performance | 9/10  |
> | Cost        | 9/10  |
> | Operations  | 9/10  |
>
> **Estimated Monthly Cost**: ~$9/month (âœ… under $15 budget)
>
> **Confidence Level**: High (all requirements defined, pricing verified)
>
> Reply **"approve"** to proceed to bicep-plan, or provide feedback for revisions.

---

_Assessment performed using Azure Well-Architected Framework. Pricing data from Azure documentation (2026-01-20)._
