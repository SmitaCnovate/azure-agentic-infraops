# Agent Output Directory

This directory contains all non-Bicep artifacts generated by the 6-Step Agentic Workflow.
Each project gets its own subfolder with step-prefixed files for easy navigation.

## Directory Structure

```text
agent-output/
├── {project-name}/                      # One folder per project
│   ├── README.md                        # Auto-generated project index
│   ├── 01-architecture-assessment.md    # Step 2: WAF assessment
│   ├── 01-cost-estimate.md              # Step 2: Cost estimate
│   ├── 03-design-diagram.py             # Step 3: Pre-build diagram source
│   ├── 03-design-diagram.png            # Step 3: Pre-build diagram image
│   ├── 03-design-adr-001-{title}.md     # Step 3: Pre-build ADR(s)
│   ├── 04-implementation-plan.md        # Step 4: Infrastructure plan
│   ├── 04-governance-constraints.md     # Step 4: Azure Policy constraints
│   ├── 05-implementation-reference.md   # Step 5: Link to Bicep code
│   ├── 06-asbuilt-diagram.py            # Step 6: Post-build diagram source
│   ├── 06-asbuilt-diagram.png           # Step 6: Post-build diagram image
│   └── 06-asbuilt-adr-002-{title}.md    # Step 6: Post-build ADR(s)
└── README.md                            # This file
```

## Naming Conventions

| Step | Prefix | Artifact Types                                                    |
| ---- | ------ | ----------------------------------------------------------------- |
| 2    | `01-`  | `architecture-assessment.md`, `cost-estimate.md`                  |
| 3    | `03-`  | `design-diagram.*`, `design-adr-NNN-{title}.md`                   |
| 4    | `04-`  | `implementation-plan.md`, `governance-constraints.md`             |
| 5    | `05-`  | `implementation-reference.md` (links to `infra/bicep/{project}/`) |
| 6    | `06-`  | `asbuilt-diagram.*`, `asbuilt-adr-NNN-{title}.md`                 |

> **Note**: Step 1 (@plan) outputs remain in chat context. Step 5 Bicep code lives in `infra/bicep/{project}/`.

## Project Name

When starting a new workflow with `@plan`, you'll be prompted for a project name.
This name is used to create the project folder and is inherited by all subsequent agents.

If an `agent-output/{project}/` folder already exists, agents will suggest reusing it
to continue work on an existing project.

## Auto-Generated Project README

Each project folder contains a `README.md` that serves as an index of all generated artifacts.
This file is automatically updated by agents as they create new outputs.

### Template

```markdown
# {Project Name} - Agent Outputs

**Created**: {date}
**Last Updated**: {date}

## Workflow Progress

- [ ] Step 1: Requirements (@plan)
- [ ] Step 2: Architecture (azure-principal-architect)
- [ ] Step 3: Pre-Build Artifacts (optional)
- [ ] Step 4: Planning (bicep-plan)
- [ ] Step 5: Implementation (bicep-implement)
- [ ] Step 6: Post-Build Artifacts (optional)

## Generated Artifacts

| File                                                             | Description    | Created |
| ---------------------------------------------------------------- | -------------- | ------- |
| [01-architecture-assessment.md](./01-architecture-assessment.md) | WAF assessment | {date}  |
| ...                                                              | ...            | ...     |

## Related Resources

- **Bicep Code**: [`infra/bicep/{project}/`](../../infra/bicep/{project}/)
- **Scenarios**: [`scenarios/`](../../scenarios/)
```

## Existing Demo Outputs

Legacy demo outputs in the following locations are preserved for demonstration purposes:

- `docs/adr/` - Global Architecture Decision Records
- `docs/diagrams/` - Workflow and architecture diagrams
- `.bicep-planning-files/` - Legacy planning files

New projects should use this `agent-output/` structure exclusively.
